<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" version="29.4.0" pages="6">
  <diagram name="4.5 LEAP执行流水线" id="vX4hOh05j7iNc7IT5y-0">
    <mxGraphModel dx="1213" dy="764" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="main_frame" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f9f9f9;strokeColor=#666666;arcSize=5;" value="" vertex="1">
          <mxGeometry height="460" width="760" x="40" y="40" as="geometry" />
        </mxCell>
        <mxCell id="sys_lbl" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=12;fontColor=#999999;" value="LEAP++ Execution Engine" vertex="1">
          <mxGeometry height="20" width="200" x="60" y="50" as="geometry" />
        </mxCell>
        <mxCell id="input_grp" connectable="0" parent="1" style="group" value="" vertex="1">
          <mxGeometry height="80" width="100" x="70" y="180" as="geometry" />
        </mxCell>
        <mxCell id="input_box" parent="input_grp" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#e1d5e7;strokeColor=#9673a6;size=15;align=center;" value="Input: π_h&lt;br&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;(Ordered Txns)&lt;/font&gt;" vertex="1">
          <mxGeometry height="80" width="90" as="geometry" />
        </mxCell>
        <mxCell id="ctrl_plane" parent="1" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="① Domain-Aware Planner" vertex="1">
          <mxGeometry height="100" width="180" x="200" y="80" as="geometry" />
        </mxCell>
        <mxCell id="cp_1" parent="ctrl_plane" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" value="Conflict Spec Analysis" vertex="1">
          <mxGeometry height="30" width="180" y="30" as="geometry" />
        </mxCell>
        <mxCell id="cp_2" parent="ctrl_plane" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" value="Domain Segmenting" vertex="1">
          <mxGeometry height="40" width="180" y="60" as="geometry" />
        </mxCell>
        <mxCell id="worker_pool" parent="1" style="swimlane;fontStyle=1;horizontal=1;startSize=30;fillColor=#fff2cc;strokeColor=#d6b656;" value="③ Parallel Worker Pool" vertex="1">
          <mxGeometry height="180" width="180" x="200" y="240" as="geometry" />
        </mxCell>
        <mxCell id="w1" parent="worker_pool" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#d6b656;" value="Worker Thread 1" vertex="1">
          <mxGeometry height="30" width="150" x="15" y="40" as="geometry" />
        </mxCell>
        <mxCell id="w2" parent="worker_pool" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#d6b656;" value="Worker Thread 2" vertex="1">
          <mxGeometry height="30" width="150" x="15" y="80" as="geometry" />
        </mxCell>
        <mxCell id="w_dots" parent="worker_pool" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" value="..." vertex="1">
          <mxGeometry height="20" width="60" x="60" y="115" as="geometry" />
        </mxCell>
        <mxCell id="wn" parent="worker_pool" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#d6b656;" value="Worker Thread N" vertex="1">
          <mxGeometry height="30" width="150" x="15" y="140" as="geometry" />
        </mxCell>
        <mxCell id="storage_grp" connectable="0" parent="1" style="group" value="" vertex="1">
          <mxGeometry height="320" width="180" x="460" y="100" as="geometry" />
        </mxCell>
        <mxCell id="mvstate" parent="storage_grp" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#f5f5f5;strokeColor=#666666;fontStyle=1" value="② MVState Storage&lt;br&gt;&lt;i&gt;(Version Chains)&lt;/i&gt;" vertex="1">
          <mxGeometry height="160" width="140" x="20" y="160" as="geometry" />
        </mxCell>
        <mxCell id="hot_delta" parent="storage_grp" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;shadow=1;" value="④ Hot-Delta&lt;br&gt;Sharding Layer" vertex="1">
          <mxGeometry height="60" width="160" x="10" y="40" as="geometry" />
        </mxCell>
        <mxCell id="arrow_rw" edge="1" parent="storage_grp" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;fillColor=#e1d5e7;strokeColor=#9673a6;width=4;endSize=3.67;startSize=3.67;" value="Read / Write">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="90" y="160" as="sourcePoint" />
            <mxPoint x="90" y="100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="backpressure" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;" value="⑤ Adaptive Backpressure" vertex="1">
          <mxGeometry height="40" width="160" x="470" y="440" as="geometry" />
        </mxCell>
        <mxCell id="output" parent="1" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;fillColor=#e1d5e7;strokeColor=#9673a6;size=0.25;" value="Output:&lt;br&gt;StateRoot_h" vertex="1">
          <mxGeometry height="70" width="90" x="690" y="260" as="geometry" />
        </mxCell>
        <mxCell id="c1" edge="1" parent="1" source="input_box" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="ctrl_plane" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="180" y="220" />
              <mxPoint x="180" y="130" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="c2" edge="1" parent="1" source="ctrl_plane" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="worker_pool" value="Dispatch">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c3" edge="1" parent="1" source="worker_pool" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;dashed=1;" target="mvstate" value="MVCC Access">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="420" y="285" />
              <mxPoint x="420" y="340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="c4" edge="1" parent="1" source="worker_pool" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;strokeColor=#b85450;strokeWidth=2;" target="hot_delta" value="Sharded Write">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="400" y="285" />
              <mxPoint x="400" y="170" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="c5" edge="1" parent="1" source="worker_pool" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;strokeColor=#82b366;" target="backpressure" value="Stats (Abort%)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="290" y="460" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="c6" edge="1" parent="1" source="backpressure" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#82b366;strokeWidth=2;" target="ctrl_plane" value="Adj Window W">
          <mxGeometry relative="1" x="-0.0968" as="geometry">
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="650" y="460" />
              <mxPoint x="650" y="130" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="c7" edge="1" parent="1" source="mvstate" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="output" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="71rPddaPsSAGoQB6BubI" name="4.8 热点账户增量分片">
    <mxGraphModel dx="1213" dy="764" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="1" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="logical_view" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontColor=#666666;" value="Logical View" vertex="1">
          <mxGeometry height="20" width="100" x="80" y="40" as="geometry" />
        </mxCell>
        <mxCell id="account_icon" parent="1" style="image;html=1;image=img/lib/clip_art/people/Suit_Man_128x128.png;labelPosition=bottom;verticalLabelPosition=top;align=center;verticalAlign=bottom;" value="Account A&lt;br&gt;&lt;i&gt;High Contention&lt;/i&gt;" vertex="1">
          <mxGeometry height="60" width="60" x="100" y="70" as="geometry" />
        </mxCell>
        <mxCell id="tx_stream" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" value="Input Stream: 1000+ Concurrent Transfers" vertex="1">
          <mxGeometry height="40" width="180" x="40" y="160" as="geometry" />
        </mxCell>
        <mxCell id="mapper" parent="1" style="swimlane;whiteSpace=wrap;html=1;startSize=20;fillColor=#f5f5f5;strokeColor=#666666;" value="Hash Mapping" vertex="1">
          <mxGeometry height="140" width="160" x="260" y="100" as="geometry" />
        </mxCell>
        <mxCell id="hash_func" parent="mapper" style="rhombus;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="p = Hash(Tx) % P" vertex="1">
          <mxGeometry height="80" width="120" x="20" y="40" as="geometry" />
        </mxCell>
        <mxCell id="phy_view" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontColor=#666666;" value="Physical Storage Layout" vertex="1">
          <mxGeometry height="20" width="200" x="480" y="40" as="geometry" />
        </mxCell>
        <mxCell id="storage_cont" parent="1" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;fillColor=none;strokeColor=#999999;" value="" vertex="1">
          <mxGeometry height="220" width="240" x="460" y="70" as="geometry" />
        </mxCell>
        <mxCell id="base" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" value="Base Balance (Stable)" vertex="1">
          <mxGeometry height="40" width="200" x="480" y="90" as="geometry" />
        </mxCell>
        <mxCell id="slot_0" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" value="Delta Slot 0: +50" vertex="1">
          <mxGeometry height="30" width="90" x="480" y="150" as="geometry" />
        </mxCell>
        <mxCell id="slot_1" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" value="Delta Slot 1: -20" vertex="1">
          <mxGeometry height="30" width="90" x="590" y="150" as="geometry" />
        </mxCell>
        <mxCell id="slot_2" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" value="Delta Slot 2: +10" vertex="1">
          <mxGeometry height="30" width="90" x="480" y="190" as="geometry" />
        </mxCell>
        <mxCell id="slot_3" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" value="Delta Slot 3: +5" vertex="1">
          <mxGeometry height="30" width="90" x="590" y="190" as="geometry" />
        </mxCell>
        <mxCell id="dots" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" value="..." vertex="1">
          <mxGeometry height="20" width="40" x="560" y="220" as="geometry" />
        </mxCell>
        <mxCell id="sum_node" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1" value="&lt;font style=&quot;font-size: 24px&quot;&gt;Σ&lt;/font&gt;&lt;br&gt;Aggregation" vertex="1">
          <mxGeometry height="80" width="80" x="540" y="320" as="geometry" />
        </mxCell>
        <mxCell id="arr1" edge="1" parent="1" source="tx_stream" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hash_func" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arr2" edge="1" parent="1" source="hash_func" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="slot_0" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arr3" edge="1" parent="1" source="hash_func" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="slot_2" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sum_base" edge="1" parent="1" source="base" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;dashed=1;" target="sum_node" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="440" y="110" />
              <mxPoint x="440" y="332" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sum_slots" edge="1" parent="1" source="storage_cont" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" target="sum_node" value="Read Path">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="result" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2;" value="Total Balance" vertex="1">
          <mxGeometry height="40" width="100" x="660" y="340" as="geometry" />
        </mxCell>
        <mxCell id="arr_res" edge="1" parent="1" source="sum_node" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="result" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="fpSuaEC6j-ADtBtl1JZK" name="5.4 MVState结构">
    <mxGraphModel dx="1213" dy="764" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="container" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f9f9f9;strokeColor=#cccccc;arcSize=5;" value="" vertex="1">
          <mxGeometry height="420" width="760" x="40" y="40" as="geometry" />
        </mxCell>
        <mxCell id="key_header" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" value="Storage Key: &lt;font color=&quot;#0000cc&quot;&gt;bal(merchant_0x4a)&lt;/font&gt;" vertex="1">
          <mxGeometry height="30" width="300" x="60" y="50" as="geometry" />
        </mxCell>
        <mxCell id="axis" edge="1" parent="1" style="endArrow=classic;html=1;strokeColor=#999999;strokeWidth=2;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="60" y="320" as="sourcePoint" />
            <mxPoint x="740" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="axis_lbl" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#999999;fontSize=11;" value="Transaction Index (Order in π_h)" vertex="1">
          <mxGeometry height="20" width="200" x="540" y="325" as="geometry" />
        </mxCell>
        <mxCell id="n1_bg" connectable="0" parent="1" style="group" value="" vertex="1">
          <mxGeometry height="100" width="120" x="80" y="200" as="geometry" />
        </mxCell>
        <mxCell id="n1_head" parent="n1_bg" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;align=center;verticalAlign=bottom;spacingBottom=5;" value="TxIdx: 2" vertex="1">
          <mxGeometry height="30" width="120" as="geometry" />
        </mxCell>
        <mxCell id="n1_body" parent="n1_bg" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#82b366;align=center;verticalAlign=middle;fontSize=16;fontStyle=1" value="Val: 1000" vertex="1">
          <mxGeometry height="40" width="120" y="30" as="geometry" />
        </mxCell>
        <mxCell id="n1_foot" parent="n1_bg" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=10;fontColor=#006600;" value="COMMITTED" vertex="1">
          <mxGeometry height="30" width="120" y="70" as="geometry" />
        </mxCell>
        <mxCell id="n2_bg" connectable="0" parent="1" style="group" value="" vertex="1">
          <mxGeometry height="100" width="120" x="260" y="200" as="geometry" />
        </mxCell>
        <mxCell id="n2_head" parent="n2_bg" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;align=center;verticalAlign=bottom;spacingBottom=5;" value="TxIdx: 5" vertex="1">
          <mxGeometry height="30" width="120" as="geometry" />
        </mxCell>
        <mxCell id="n2_body" parent="n2_bg" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#82b366;align=center;verticalAlign=middle;fontSize=16;fontStyle=1" value="Val: 1050" vertex="1">
          <mxGeometry height="40" width="120" y="30" as="geometry" />
        </mxCell>
        <mxCell id="n2_foot" parent="n2_bg" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=10;fontColor=#006600;" value="COMMITTED" vertex="1">
          <mxGeometry height="30" width="120" y="70" as="geometry" />
        </mxCell>
        <mxCell id="n3_bg" connectable="0" parent="1" style="group" value="" vertex="1">
          <mxGeometry height="100" width="120" x="440" y="200" as="geometry" />
        </mxCell>
        <mxCell id="n3_head" parent="n3_bg" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;align=center;verticalAlign=bottom;spacingBottom=5;" value="TxIdx: 8" vertex="1">
          <mxGeometry height="30" width="120" as="geometry" />
        </mxCell>
        <mxCell id="n3_body" parent="n3_bg" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#d6b656;align=center;verticalAlign=middle;fontSize=16;fontStyle=1" value="Val: 1120" vertex="1">
          <mxGeometry height="40" width="120" y="30" as="geometry" />
        </mxCell>
        <mxCell id="n3_foot" parent="n3_bg" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=10;fontColor=#996600;" value="TENTATIVE" vertex="1">
          <mxGeometry height="30" width="120" y="70" as="geometry" />
        </mxCell>
        <mxCell id="n4_bg" connectable="0" parent="1" style="group" value="" vertex="1">
          <mxGeometry height="100" width="120" x="620" y="200" as="geometry" />
        </mxCell>
        <mxCell id="n4_head" parent="n4_bg" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;align=center;verticalAlign=bottom;spacingBottom=5;dashed=1;" value="TxIdx: 12" vertex="1">
          <mxGeometry height="30" width="120" as="geometry" />
        </mxCell>
        <mxCell id="n4_body" parent="n4_bg" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#b85450;align=center;verticalAlign=middle;fontSize=14;fontColor=#b85450;dashed=1;" value="&lt;i&gt;Invalid&lt;/i&gt;" vertex="1">
          <mxGeometry height="40" width="120" y="30" as="geometry" />
        </mxCell>
        <mxCell id="n4_foot" parent="n4_bg" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;fontSize=10;fontColor=#990000;dashed=1;" value="ESTIMATE" vertex="1">
          <mxGeometry height="30" width="120" y="70" as="geometry" />
        </mxCell>
        <mxCell id="link1" edge="1" parent="1" source="n1_body" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#666666;" target="n2_body" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="link2" edge="1" parent="1" source="n2_body" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#666666;" target="n3_body" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="link3" edge="1" parent="1" source="n3_body" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#666666;dashed=1;" target="n4_body" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="reader1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" value="Reader Tx 6" vertex="1">
          <mxGeometry height="30" width="100" x="270" y="100" as="geometry" />
        </mxCell>
        <mxCell id="arrow1" edge="1" parent="1" source="reader1" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#6c8ebf;strokeWidth=2;" target="n2_head" value="Reads (5 &lt; 6)">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="reader2" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" value="Reader Tx 10" vertex="1">
          <mxGeometry height="30" width="100" x="450" y="100" as="geometry" />
        </mxCell>
        <mxCell id="arrow2" edge="1" parent="1" source="reader2" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#d6b656;strokeWidth=2;" target="n3_head" value="Reads Speculative&lt;br&gt;(8 &lt; 10)">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="reader3" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1" value="Reader Tx 15" vertex="1">
          <mxGeometry height="30" width="100" x="630" y="100" as="geometry" />
        </mxCell>
        <mxCell id="arrow3" edge="1" parent="1" source="reader3" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#b85450;strokeWidth=2;dashed=1;" target="n4_head" value="Blocks on ESTIMATE&lt;br&gt;(Wait for Tx 12)">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="note1" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#006600;" value="稳定版本&lt;br&gt;安全读取" vertex="1">
          <mxGeometry height="30" width="90" x="198" y="340" as="geometry" />
        </mxCell>
        <mxCell id="note2" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#996600;" value="临时版本&lt;br&gt;可读但可能回滚" vertex="1">
          <mxGeometry height="30" width="90" x="455" y="340" as="geometry" />
        </mxCell>
        <mxCell id="note3" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#990000;fontStyle=1" value="不完整版本&lt;br&gt;触发依赖等待" vertex="1">
          <mxGeometry height="30" width="90" x="635" y="340" as="geometry" />
        </mxCell>
        <mxCell id="brace1" parent="1" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;rotation=-90;size=0.5;" value="" vertex="1">
          <mxGeometry height="260" width="20" x="229" y="188" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="N-HM6CXLFrpHx-1zSzAW" name="5.10 排序-执行跨层闭环反馈">
    <mxGraphModel dx="1213" dy="764" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="1" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" value="图 5.10 排序—执行跨层闭环反馈机制" vertex="1">
          <mxGeometry height="30" width="760" x="40" y="420" as="geometry" />
        </mxCell>
        <mxCell id="layer_ord" parent="1" style="swimlane;horizontal=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;startSize=30;" value="Chapter 4: Ordering Layer (Controller)" vertex="1">
          <mxGeometry height="120" width="600" x="120" y="40" as="geometry" />
        </mxCell>
        <mxCell id="strategy" parent="layer_ord" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;fontStyle=1" value="Adaptive Batching Strategy" vertex="1">
          <mxGeometry height="50" width="200" x="40" y="50" as="geometry" />
        </mxCell>
        <mxCell id="decision" parent="layer_ord" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" value="Adjust Load &amp; Domain Mix" vertex="1">
          <mxGeometry height="60" width="160" x="350" y="45" as="geometry" />
        </mxCell>
        <mxCell id="arr_internal" edge="1" parent="layer_ord" source="strategy" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="decision" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="layer_exec" parent="1" style="swimlane;horizontal=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;startSize=30;" value="Chapter 5: Execution Layer (System Plant)" vertex="1">
          <mxGeometry height="140" width="600" x="120" y="240" as="geometry" />
        </mxCell>
        <mxCell id="exec_engine" parent="layer_exec" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#6c8ebf;fontStyle=1" value="LEAP Engine" vertex="1">
          <mxGeometry height="50" width="200" x="40" y="50" as="geometry" />
        </mxCell>
        <mxCell id="monitor" parent="layer_exec" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#f8cecc;strokeColor=#b85450;" value="Performance Monitor" vertex="1">
          <mxGeometry height="50" width="160" x="350" y="50" as="geometry" />
        </mxCell>
        <mxCell id="arr_mon" edge="1" parent="layer_exec" source="exec_engine" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" target="monitor" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="downstream" edge="1" parent="1" source="layer_ord" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fillColor=#d5e8d4;strokeColor=#82b366;width=8;endSize=7.33;" target="layer_exec" value="Input: π_h (Ordered Batch)">
          <mxGeometry height="50" relative="1" width="50" x="-0.6" as="geometry">
            <mxPoint as="offset" />
            <mxPoint x="200" y="160" as="sourcePoint" />
            <mxPoint x="200" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="upstream" edge="1" parent="1" source="monitor" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;width=8;endSize=7.33;" target="decision" value="Feedback: r_abort, r_wait">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="550" y="240" as="sourcePoint" />
            <mxPoint x="550" y="160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="loop_lbl" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;rotation=-90;fontStyle=1;fontColor=#666666;" value="Closed-Loop Optimization" vertex="1">
          <mxGeometry height="20" width="160" x="720" y="180" as="geometry" />
        </mxCell>
        <mxCell id="bracket" parent="1" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;size=0.5;" value="" vertex="1">
          <mxGeometry height="340" width="20" x="720" y="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="szd3w5qsK-RRgEpk-Fsi" name="5.6 域感知调度对比图">
    <mxGraphModel dx="1213" dy="764" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="legend_grp" connectable="0" parent="1" style="group" value="" vertex="1">
          <mxGeometry height="30" width="220" x="580" y="40" as="geometry" />
        </mxCell>
        <mxCell id="leg_domA" parent="legend_grp" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="" vertex="1">
          <mxGeometry height="20" width="20" y="5" as="geometry" />
        </mxCell>
        <mxCell id="txt_domA" parent="legend_grp" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="冲突域 A" vertex="1">
          <mxGeometry height="20" width="50" x="25" y="5" as="geometry" />
        </mxCell>
        <mxCell id="leg_domB" parent="legend_grp" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" value="" vertex="1">
          <mxGeometry height="20" width="20" x="80" y="5" as="geometry" />
        </mxCell>
        <mxCell id="txt_domB" parent="legend_grp" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="冲突域 B" vertex="1">
          <mxGeometry height="20" width="50" x="105" y="5" as="geometry" />
        </mxCell>
        <mxCell id="grp_a" connectable="0" parent="1" style="group" value="" vertex="1">
          <mxGeometry height="260" width="760" x="40" y="80" as="geometry" />
        </mxCell>
        <mxCell id="lbl_a" parent="grp_a" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=12" value="(a) 无域感知调度 (Block-STM)" vertex="1">
          <mxGeometry height="20" width="300" as="geometry" />
        </mxCell>
        <mxCell id="row1_a" parent="grp_a" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f9f9f9;strokeColor=#e0e0e0;" value="" vertex="1">
          <mxGeometry height="50" width="660" x="80" y="30" as="geometry" />
        </mxCell>
        <mxCell id="row2_a" parent="grp_a" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#e0e0e0;" value="" vertex="1">
          <mxGeometry height="50" width="660" x="80" y="80" as="geometry" />
        </mxCell>
        <mxCell id="row3_a" parent="grp_a" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f9f9f9;strokeColor=#e0e0e0;" value="" vertex="1">
          <mxGeometry height="50" width="660" x="80" y="130" as="geometry" />
        </mxCell>
        <mxCell id="t0_lbl" parent="grp_a" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontColor=#666666;" value="Thread 0" vertex="1">
          <mxGeometry height="30" width="70" y="40" as="geometry" />
        </mxCell>
        <mxCell id="t1_lbl" parent="grp_a" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontColor=#666666;" value="Thread 1" vertex="1">
          <mxGeometry height="30" width="70" y="90" as="geometry" />
        </mxCell>
        <mxCell id="t2_lbl" parent="grp_a" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontColor=#666666;" value="Thread 2" vertex="1">
          <mxGeometry height="30" width="70" y="140" as="geometry" />
        </mxCell>
        <mxCell id="tx1_a" parent="grp_a" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;arcSize=20;" value="Tx1 (A)" vertex="1">
          <mxGeometry height="30" width="80" x="90" y="40" as="geometry" />
        </mxCell>
        <mxCell id="tx4_a" parent="grp_a" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;arcSize=20;" value="Tx4 (B)" vertex="1">
          <mxGeometry height="30" width="80" x="250" y="40" as="geometry" />
        </mxCell>
        <mxCell id="gap_1" parent="grp_a" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=none;fontColor=#999999;fontStyle=2;fontSize=10;" value="WAIT" vertex="1">
          <mxGeometry height="30" width="70" x="90" y="90" as="geometry" />
        </mxCell>
        <mxCell id="tx2_a" parent="grp_a" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;arcSize=20;" value="Tx2 (A)" vertex="1">
          <mxGeometry height="30" width="80" x="170" y="90" as="geometry" />
        </mxCell>
        <mxCell id="tx5_a" parent="grp_a" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;arcSize=20;" value="Tx5 (B)" vertex="1">
          <mxGeometry height="30" width="80" x="90" y="140" as="geometry" />
        </mxCell>
        <mxCell id="tx3_fail" parent="grp_a" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;arcSize=20;dashed=1;" value="Tx3 (A)" vertex="1">
          <mxGeometry height="30" width="80" x="190" y="140" as="geometry" />
        </mxCell>
        <mxCell id="retry_gap" parent="grp_a" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=none;fontColor=#b85450;fontStyle=1;fontSize=10;" value="RETRY" vertex="1">
          <mxGeometry height="30" width="50" x="280" y="140" as="geometry" />
        </mxCell>
        <mxCell id="tx3_retry" parent="grp_a" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;arcSize=20;" value="Tx3 (A)" vertex="1">
          <mxGeometry height="30" width="80" x="340" y="140" as="geometry" />
        </mxCell>
        <mxCell id="arrow_dep" edge="1" parent="grp_a" source="tx1_a" style="edgeStyle=curved;html=1;endArrow=classic;dashed=1;strokeColor=#FF0000;strokeWidth=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="tx2_a" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="180" y="55" />
              <mxPoint x="160" y="105" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="txt_dep" parent="grp_a" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#FF0000;" value="依赖等待" vertex="1">
          <mxGeometry height="20" width="50" x="120" y="65" as="geometry" />
        </mxCell>
        <mxCell id="arrow_abort" edge="1" parent="grp_a" source="tx2_a" style="edgeStyle=curved;html=1;endArrow=classic;dashed=1;strokeColor=#b85450;strokeWidth=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" target="tx3_fail" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="210" y="130" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="txt_abort" parent="grp_a" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#b85450;" value="版本冲突&lt;br&gt;回滚" vertex="1">
          <mxGeometry height="30" width="60" x="210" y="115" as="geometry" />
        </mxCell>
        <mxCell id="time_a" edge="1" parent="grp_a" style="endArrow=classic;html=1;strokeColor=#666666;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="80" y="200" as="sourcePoint" />
            <mxPoint x="740" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="txt_time_a" parent="grp_a" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#666666;" value="Execution Time (Total: ~5 Units)" vertex="1">
          <mxGeometry height="20" width="200" x="540" y="205" as="geometry" />
        </mxCell>
        <mxCell id="grp_b" connectable="0" parent="1" style="group" value="" vertex="1">
          <mxGeometry height="260" width="760" x="40" y="360" as="geometry" />
        </mxCell>
        <mxCell id="lbl_b" parent="grp_b" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=12" value="(b) LEAP++ 域感知调度 (Domain-Aware)" vertex="1">
          <mxGeometry height="20" width="300" as="geometry" />
        </mxCell>
        <mxCell id="row1_b" parent="grp_b" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f0f8ff;strokeColor=#e0e0e0;" value="" vertex="1">
          <mxGeometry height="50" width="660" x="80" y="30" as="geometry" />
        </mxCell>
        <mxCell id="row2_b" parent="grp_b" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff5eb;strokeColor=#e0e0e0;" value="" vertex="1">
          <mxGeometry height="50" width="660" x="80" y="80" as="geometry" />
        </mxCell>
        <mxCell id="row3_b" parent="grp_b" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#e0e0e0;" value="" vertex="1">
          <mxGeometry height="50" width="660" x="80" y="130" as="geometry" />
        </mxCell>
        <mxCell id="t0_lbl_b" parent="grp_b" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontColor=#666666;" value="Thread 0" vertex="1">
          <mxGeometry height="30" width="70" y="40" as="geometry" />
        </mxCell>
        <mxCell id="domA_hint" parent="grp_b" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#6c8ebf;" value="[Domain A]" vertex="1">
          <mxGeometry height="20" width="60" x="10" y="55" as="geometry" />
        </mxCell>
        <mxCell id="t1_lbl_b" parent="grp_b" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontColor=#666666;" value="Thread 1" vertex="1">
          <mxGeometry height="30" width="70" y="90" as="geometry" />
        </mxCell>
        <mxCell id="domB_hint" parent="grp_b" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#d79b00;" value="[Domain B]" vertex="1">
          <mxGeometry height="20" width="60" x="10" y="105" as="geometry" />
        </mxCell>
        <mxCell id="t2_lbl_b" parent="grp_b" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontColor=#666666;" value="Thread 2" vertex="1">
          <mxGeometry height="30" width="70" y="140" as="geometry" />
        </mxCell>
        <mxCell id="tx1_b" parent="grp_b" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;arcSize=20;" value="Tx1" vertex="1">
          <mxGeometry height="30" width="80" x="90" y="40" as="geometry" />
        </mxCell>
        <mxCell id="tx2_b" parent="grp_b" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;arcSize=20;" value="Tx2" vertex="1">
          <mxGeometry height="30" width="80" x="175" y="40" as="geometry" />
        </mxCell>
        <mxCell id="tx3_b" parent="grp_b" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;arcSize=20;" value="Tx3" vertex="1">
          <mxGeometry height="30" width="80" x="260" y="40" as="geometry" />
        </mxCell>
        <mxCell id="tx4_b" parent="grp_b" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;arcSize=20;" value="Tx4" vertex="1">
          <mxGeometry height="30" width="80" x="90" y="90" as="geometry" />
        </mxCell>
        <mxCell id="tx5_b" parent="grp_b" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;arcSize=20;" value="Tx5" vertex="1">
          <mxGeometry height="30" width="80" x="175" y="90" as="geometry" />
        </mxCell>
        <mxCell id="tx6_b" parent="grp_b" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;arcSize=20;" value="Tx6" vertex="1">
          <mxGeometry height="30" width="80" x="260" y="90" as="geometry" />
        </mxCell>
        <mxCell id="tx7_b" parent="grp_b" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;arcSize=20;" value="Tx7 (C)" vertex="1">
          <mxGeometry height="30" width="80" x="90" y="140" as="geometry" />
        </mxCell>
        <mxCell id="tx8_b" parent="grp_b" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;arcSize=20;" value="Tx8 (C)" vertex="1">
          <mxGeometry height="30" width="80" x="175" y="140" as="geometry" />
        </mxCell>
        <mxCell id="benefit_txt" parent="grp_b" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#009900;fontStyle=1" value="同域批量执行，无锁无等待" vertex="1">
          <mxGeometry height="20" width="200" x="125" y="15" as="geometry" />
        </mxCell>
        <mxCell id="time_b" edge="1" parent="grp_b" style="endArrow=classic;html=1;strokeColor=#666666;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="80" y="200" as="sourcePoint" />
            <mxPoint x="360" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="txt_time_b" parent="grp_b" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#009900;fontStyle=1" value="Execution Time (Total: ~3 Units) - 40% Faster" vertex="1">
          <mxGeometry height="20" width="250" x="370" y="190" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="YFuGj6BXTtwQuD2RrRE1" name="5.7 状态转换图">
    <mxGraphModel dx="1213" dy="764" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="start" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;" value="" vertex="1">
          <mxGeometry height="30" width="30" x="80" y="240" as="geometry" />
        </mxCell>
        <mxCell id="ready" parent="1" style="html=1;align=center;verticalAlign=top;rounded=1;absoluteArcSize=1;arcSize=10;dashed=0;whiteSpace=wrap;fillColor=#f5f5f5;strokeColor=#666666;fontStyle=1" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;READY&lt;br&gt;&lt;i&gt;(Waiting for Worker)&lt;/i&gt;" vertex="1">
          <mxGeometry height="80" width="140" x="160" y="215" as="geometry" />
        </mxCell>
        <mxCell id="running" parent="1" style="html=1;align=center;verticalAlign=top;rounded=1;absoluteArcSize=1;arcSize=10;dashed=0;whiteSpace=wrap;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;RUNNING&lt;/span&gt;&lt;/div&gt;&lt;i&gt;(Speculative Exec)&lt;/i&gt;" vertex="1">
          <mxGeometry height="80" width="140" x="400" y="80" as="geometry" />
        </mxCell>
        <mxCell id="executed" parent="1" style="html=1;align=center;verticalAlign=top;rounded=1;absoluteArcSize=1;arcSize=10;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;EXECUTED&lt;br&gt;&lt;i&gt;(Wait for Validation)&lt;/i&gt;" vertex="1">
          <mxGeometry height="80" width="140" x="640" y="215" as="geometry" />
        </mxCell>
        <mxCell id="validating" parent="1" style="html=1;align=center;verticalAlign=top;rounded=1;absoluteArcSize=1;arcSize=10;dashed=0;whiteSpace=wrap;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;VALIDATING&lt;br&gt;&lt;i&gt;(Check ReadSet)&lt;/i&gt;" vertex="1">
          <mxGeometry height="80" width="140" x="400" y="360" as="geometry" />
        </mxCell>
        <mxCell id="end" parent="1" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#000000;" value="" vertex="1">
          <mxGeometry height="30" width="30" x="690" y="385" as="geometry" />
        </mxCell>
        <mxCell id="committed" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontColor=#006600;" value="COMMITTED" vertex="1">
          <mxGeometry height="20" width="80" x="665" y="420" as="geometry" />
        </mxCell>
        <mxCell id="t1" edge="1" parent="1" source="start" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="ready" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="t_dispatch" edge="1" parent="1" source="ready" style="edgeStyle=curved;html=1;endArrow=block;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" target="running" value="Schedule()">
          <mxGeometry relative="1" x="-0.2178" y="10" as="geometry">
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="230" y="120" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="t_finish" edge="1" parent="1" source="running" style="edgeStyle=curved;html=1;endArrow=block;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="executed" value="Success">
          <mxGeometry relative="1" x="-0.2798" y="10" as="geometry">
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="710" y="120" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="t_wait" edge="1" parent="1" source="running" style="edgeStyle=curved;html=1;endArrow=block;rounded=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;dashed=1;fontColor=#999999;" target="ready" value="Read(ESTIMATE) / Wait">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="300" y="160" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="t_seq" edge="1" parent="1" source="executed" style="edgeStyle=curved;html=1;endArrow=block;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" target="validating" value="ValIdx Reached">
          <mxGeometry relative="1" x="-0.2078" y="-15" as="geometry">
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="710" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="t_abort" edge="1" parent="1" source="validating" style="edgeStyle=curved;html=1;endArrow=block;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;dashed=1;strokeColor=#b85450;fontColor=#b85450;" target="ready" value="Validation Fail (Conflict)">
          <mxGeometry relative="1" x="-0.0988" y="-10" as="geometry">
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="230" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="t_commit" edge="1" parent="1" source="validating" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#006600;strokeWidth=2;" target="end" value="Pass">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
